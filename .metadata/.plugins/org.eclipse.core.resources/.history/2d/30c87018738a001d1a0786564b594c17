package com.bit;

import java.awt.BorderLayout;
import java.awt.Button;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Frame;
import java.awt.GridLayout;
import java.awt.Image;
import java.awt.Label;
import java.awt.Panel;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import java.util.Random;

public class Ex14 extends Frame implements ActionListener,Runnable{
	static Ex14 me;
	static Thread thr;
	
	String[] arr = {"1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16"};
	Button[] lb = new Button[16];
	
	@Override
	public void run() {
		// TODO Auto-generated method stub
		while(true) {
			try {
				Thread.sleep(2000);
				for (int i = 0; i < 60; i++) {
					int r = ((int)(Math.random()*16)+1);
					lb[r].setBackground(Color.red);
				}
				
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}

	}
	
	public Ex14() {
		// TODO Auto-generated constructor stub
		WindowAdapter eve = new WindowAdapter() {
			@Override
			public void windowClosing(WindowEvent e) {
				// TODO Auto-generated method stub
				dispose();
			}
		};
		setLayout(new BorderLayout());
		setTitle("두더지 잡기");
		
		//north
		Panel northPanel = new Panel();
		
		Label menuLabel = new Label("60 count");
		northPanel.add(menuLabel);
		
		//center
		Panel centerPanel = new Panel();
		
		centerPanel.setLayout(new GridLayout(4, 4,5,5));
		for (int i = 0; i < arr.length; i++) {
			lb[i] = new Button();
			
			centerPanel.add(lb[i]);
			
		}
		
		//east
		Panel eastPanel = new Panel();
		
		
		Button startBtn = new Button("start");
		Dimension di = new Dimension();
		di.height=100;
		di.width=100;
		startBtn.setPreferredSize(di);
		startBtn.addActionListener(this);
		Button endBtn = new Button("end");
		endBtn.setPreferredSize(di);
		eastPanel.add(startBtn);
		eastPanel.add(endBtn);

		
		//south
		Panel southPanel = new Panel();
		Label scoreLabel = new Label("Score:0");
		southPanel.add(scoreLabel);
		
		add(northPanel,BorderLayout.NORTH);
		add(centerPanel,BorderLayout.CENTER);
		add(eastPanel,BorderLayout.EAST);
		add(southPanel,BorderLayout.SOUTH);
		addWindowListener(eve);
		setBounds(100, 100, 800, 500);
		setVisible(true);
	}
	
	public static void main(String[] args) {
		me = new Ex14();
		thr = new Thread(me);
	}

	@Override
	public void actionPerformed(ActionEvent e) {
		// TODO Auto-generated method stub
		if(e.getActionCommand().equals("start")) {
			
			thr.start();
		}
		if(e.getActionCommand().equals("end")) {
			System.out.println("끝~~~");
			thr.stop();
		}
		
	}



}
